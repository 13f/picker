<metro:MetroWindow x:Class="Picker.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:metro="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:metroBehaviours="clr-namespace:MahApps.Metro.Behaviours;assembly=MahApps.Metro"
        xmlns:catel="http://catel.codeplex.com"
        Title="豆瓣" Height="600" Width="800" ResizeMode="CanMinimize" WindowStartupLocation="CenterOwner">
    <i:Interaction.Behaviors>
        <metroBehaviours:BorderlessWindowBehavior/>
    </i:Interaction.Behaviors>
    <metro:MetroWindow.Resources>
        <catel:BooleanToCollapsingVisibilityConverter x:Key="bool2visible" />
    </metro:MetroWindow.Resources>
    
    <DockPanel>
        <ItemsControl ItemsSource="{Binding StatisticsInfo}" Width="200" DockPanel.Dock="Left">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <StackPanel Margin="5">
                        <TextBlock Text="{Binding Title}" Margin="5" FontSize="22" FontWeight="Bold" Foreground="LightBlue"/>
                        <StackPanel Orientation="Horizontal" Margin="5">
                            <TextBlock Text="{Binding ProcessedCount}" Margin="5,0,5,0"/>
                            <TextBlock Text="/" Margin="5,0,5,0"/>
                            <TextBlock Text="{Binding TotalCount}" Margin="5,0,5,0"/>
                        </StackPanel>
                    </StackPanel>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
        
        <TabControl>
            <TabItem Header="Setting">
                <metro:MetroContentControl>
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Margin="10">
                            <TextBlock VerticalAlignment="Center">App key：</TextBlock>
                            <TextBox Width="200" Height="30" Margin="10,0,0,0" Text="{Binding AppKey, Mode=TwoWay}" IsReadOnly="True"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Margin="10">
                            <CheckBox x:Name="checkAutoLoop" VerticalAlignment="Center" IsChecked="{Binding AutoLoop, Mode=TwoWay}">查询完成，自动继续</CheckBox>
                            <StackPanel Orientation="Horizontal" Visibility="{Binding ElementName=checkAutoLoop, Path=IsChecked, Converter={StaticResource bool2visible}}">
                                <TextBlock VerticalAlignment="Center" Margin="25,0,0,0">等待</TextBlock>
                                <metro:NumericUpDown Value="{Binding AutoLoopInterval, Mode=TwoWay}" Minimum="5" Maximum="20" Margin="5,0,0,0"></metro:NumericUpDown>
                                <TextBlock VerticalAlignment="Center" Margin="5,0,0,0">秒后，开始新一轮查询</TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </metro:MetroContentControl>
            </TabItem>

            <TabItem Header="User">
                <metro:MetroContentControl>
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Margin="10">
                            <TextBlock VerticalAlignment="Center">初始用户（StartingUserId）：</TextBlock>
                            <TextBox Width="200" Height="30" Margin="10,0,0,0" Text="{Binding StartingUserId, Mode=TwoWay}"/>
                        </StackPanel>
                        <Button Width="150" Height="70" Content="抓取" Command="{Binding CmdPickUsers}"/>
                    </StackPanel>
                </metro:MetroContentControl>
            </TabItem>

            <TabItem Header="Book">
                <metro:MetroContentControl>
                    <Button Width="150" Height="70" Content="抓取" Command="{Binding CmdPickBooks}"/>
                </metro:MetroContentControl>
            </TabItem>

            <TabItem Header="Movie">
                <metro:MetroContentControl>
                    <Button Width="150" Height="70" Content="抓取：Top250" Command="{Binding CmdPickMoviesTop250}"/>
                </metro:MetroContentControl>
            </TabItem>

            <TabItem Header="Music">
                <metro:MetroContentControl>
                    <TextBlock FontSize="30" VerticalAlignment="Center" HorizontalAlignment="Center">Music: TO DO ...</TextBlock>
                </metro:MetroContentControl>
            </TabItem>

            <TabItem Header="Travel">
                <metro:MetroContentControl>
                    <Button Width="150" Height="70" Content="抓取" Command="{Binding CmdPickTravel}"/>
                </metro:MetroContentControl>
            </TabItem>

        </TabControl>
    </DockPanel>
</metro:MetroWindow>
